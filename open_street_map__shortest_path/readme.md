# Visualizing Routes on Interactive Maps with Python

## Ресурси
- https://towardsdatascience.com/visualizing-routes-on-interactive-maps-with-python-part-1-44f8d25d0761  
- https://thomasafink.medium.com/plotting-the-optimal-route-for-data-scientists-in-python-using-the-dijkstra-algorithm-14e3e9383a0a  
- https://darribas.org/gds4ae/content/notebooks/06-OpenStreetMap.html  
- https://osmnx.readthedocs.io/en/stable/user-reference.html  
- https://spatial-dev.guru/2024/01/14/network-route-visualization-using-pyvista-and-osmnx/  
- https://lms.chiacademy.software/education/courses/lessons/view/158940  

---

## Опис проекту
Мета — показати, як за допомогою відкритих геоданих і бібліотек Python завантажити вуличну мережу міста, вибрати випадкові точки (будівлі), знайти між ними найкоротший маршрут і відобразити його як статичною візуалізацією, так і інтерактивно на мапі Folium. Додатково — згенерувати декілька альтернативних шляхів, щоб продемонструвати, як модифікація ваг ребер впливає на результати пошуку.

---

### 1. Завантаження даних
1. **Вибір міста**  
   Задаємо рядок `"Khmelnytskyi, Ukraine"`, який використовується для запиту до OpenStreetMap.
2. **Граф вуличної мережі**  
   Бібліотека OSMnx завантажує мережу автомобільних маршрутів у вигляді об’єкта `Graph`. Це спрощує подальший аналіз як графа із вузлами (перехрестя) та ребрами (дороги).
3. **Дані будівель**  
   OSMnx збирає об’єкти з тегом `"building"`, формуючи GeoDataFrame з полігонами будівель для подальшої візуалізації та вибору випадкових точок.

---

### 2. Візуалізація вуличної мережі та будівель
- **Matplotlib + OSMnx**  
  Створюємо полотно та зафарбовуємо мережу чорними лініями без відображення вузлів.  
- **Будівлі поверх мережі**  
  Використовуємо GeoDataFrame.plot() для накладання синіх напівпрозорих будівель, щоб відразу бачити геометрію міста над мережею доріг.

---

### 3. Вибір двох випадкових будівель
- **Центроїди полігонів**  
  Перетворюємо полігони будівель у систему координат для обчислення центроїду, а потім повертаємо їх у широту/довготу.
- **Випадковий відбір**  
  За допомогою модуля `random` вибираємо два незалежні центри будівель. Це демонструє базову методику випадкової семплізації в геопросторовому аналізі.

---

### 4. Знаходження найкоротшого маршруту
1. **Найближчі вузли**  
   Для кожного центроїда визначаємо найближчий вузол графа через `ox.distance.nearest_nodes()`.
2. **Алгоритм Дейкстри**  
   Через `networkx.shortest_path()` із параметром `weight="length"` отримуємо послідовність вузлів найкоротшого шляху.
3. **Статична візуалізація**  
   `ox.plot_graph_route()` малює цей маршрут товстою лінією на попередньому графіку, дозволяючи порівняти його із загальною мережею.

---

### 5. Інтерактивне відображення з Folium
- **Базова карта**  
  Створюємо `folium.Map` з центром у стартовій точці та комфортним рівнем масштабування.
- **Лінія маршруту**  
  Конвертуємо список вузлів у набір координат і додаємо на карту через `folium.PolyLine()`, підписавши довжину шляху.
- **Маркери старт/фініш**  
  Додаємо кольорові значки, щоб чітко позначити початок (зелений) і кінець (червоний) маршруту.
- **Збереження**  
  Зберігаємо результат у HTML-файл для подальшого перегляду у браузері.

---

### 6. Генерація альтернативних маршрутів
1. **Копія графа**  
   Щоб не змінювати оригінал, працюємо з його копією.
2. **Циклічний пошук**  
   На кожній ітерації шукаємо найкоротший шлях, а потім модифікуємо вагу його ребер (наприклад, множимо на 10), щоб у наступному циклі знаходити інший маршрут.
3. **Унікалізація шляхів**  
   Цей підхід демонструє, як можна отримати N різних маршрутів між двома точками, уникаючи повторень.

---

## Висновки
- OSMnx і NetworkX разом із Matplotlib дають потужний інструментарій для аналізу та візуалізації статичних маршрутів;
- Folium перетворює результати у зручну інтерактивну мапу, яку легко поділитися;
- проста зміна ваг ребер дозволяє імітувати побудову альтернативних маршрутів без складних алгоритмів;
- така pipeline-послідовність може бути адаптована під будь-яке українське місто чи інший тип мережі (пішохідна, велосипедна тощо).
